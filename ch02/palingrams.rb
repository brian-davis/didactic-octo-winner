load("./load_dictionary.rb") # :load_strings
# WORD_LIST = load_strings("/usr/share/dict/words") || []
WORD_LIST = load_strings("./dictionary.txt") || []

# find word-pair palingrams
def find_palingrams
  palingram_list = []

  word_list = WORD_LIST
  # word_list = ["nurses", "run", "stir", "grits", "other", "car", "race"]

  for word in word_list
    # puts "word: #{word}"
    end_index = word.length
    rev_word = word.reverse

    if end_index > 1
      for i in (0...end_index)
        if word[i..-1] == rev_word[0...(end_index - i)] &&
           word_list.include?(rev_word[(end_index - i)..-1])

          palingram_list.push([word, rev_word[(end_index - i)..-1]])
        end

        if word[0..i] == rev_word[(end_index - i)..-1] &&
           word_list.include?(rev_word[0...(end_index - i)])

          palingram_list.push([rev_word[0...(end_index - i)], word])
        end
      end
    end
  end

  palingram_list
end

palingrams = find_palingrams.sort_by { |a, _| a }.map { |e| e.join(" ") }
puts "Number of palingrams: #{palingrams.length}"
puts palingrams

# ðŸ¤– ch02 $ ruby palingrams.rb
# Number of palingrams: 736
# abler elba
# accede decca
# adam ada
# aglow olga
# albany nabla
# allen ella
# alley ella
# amoral aroma
# analyticity lana
# andes edna
# anita tina
# annal anna
# apse spa
# area era
# ares era
# arid ira
# arises ira
# arrest serra
# aver eva
# bach cab
# bacilli cab
# back cab
# bags gab
# baja jab
# bald lab
# bale lab
# bali lab
# balk lab
# ball lab
# balm lab
# balsa slab
# banana nab
# band nab
# banded nab
# bane nab
# bang nab
# bank nab
# bans nab
# bards drab
# barge grab
# bath tab
# bats tab
# bibs bib
# birch crib
# bird rib
# bobs bob
# bomb mob
# booboo boob
# booby boob
# bordered rob
# bore rob
# borg rob
# born rob
# bose sob
# boss sob
# bosses sob
# bragg garb
# brags garb
# breve verb
# brow orb
# bruce curb
# buck cub
# budd dub
# budded dub
# buds dub
# burdened rub
# burl rub
# burn rub
# burp rub
# burr rub
# bursitis rub
# bursts rub
# burt rub
# burtt rub
# bury rub
# bush sub
# buss sub
# busses sub
# bust sub
# busy sub
# butt tub
# calf lac
# call lac
# calm lac
# came mac
# camp mac
# cede dec
# civics civic
# code doc
# cody doc
# colby bloc
# crab arc
# crag arc
# cram arc
# cramp marc
# crams marc
# crass arc
# cray arc
# dada dad
# dade dad
# dads dad
# dahl had
# dale lad
# dali lad
# daly lad
# dame mad
# damn mad
# damp mad
# dams mad
# dash sad
# debar abed
# debt bed
# decided iced
# deeds deed
# deere reed
# defy fed
# deity tied
# delete led
# delft fled
# delivers reviled
# delivery reviled
# dell led
# demand named
# demanded named
# denote toned
# dens ned
# dent ned
# deny ned
# depart raped
# deport roped
# derby bred
# detract carted
# deuce cued
# devils lived
# dial aid
# dials laid
# diapers repaid
# diary raid
# dido did
# dike kid
# dill lid
# dime mid
# dims mid
# dined enid
# diner enid
# dines enid
# dirac arid
# dire rid
# dirge grid
# dirt rid
# divan avid
# dock cod
# doge god
# dogs god
# done nod
# dons nod
# dooms mood
# dope pod
# dora rod
# dose sod
# draco card
# drawers reward
# drawl ward
# drawn ward
# draws ward
# droll lord
# drown word
# drowsy sword
# dubs bud
# dumb mud
# dump mud
# dwell lewd
# dwelt lewd
# earl rae
# earn rae
# earp rae
# ears rae
# edith tide
# edits tide
# eels lee
# egan age
# eiffel effie
# eked eke
# ekes eke
# elapses pale
# elite tile
# elope pole
# elsie isle
# emacs came
# emile lime
# emily lime
# emits time
# emory rome
# enact cane
# enoch cone
# enos one
# epoch cope
# eras are
# erases are
# eric ire
# erie ire
# erik ire
# eris ire
# eros ore
# erupt pure
# evade dave
# even eve
# ever eve
# evils live
# ewen ewe
# ewes ewe
# eyed eye
# eyer eye
# eyes eye
# flack calf
# flea elf
# fled elf
# flee elf
# fleece elf
# flesh self
# flew elf
# flex elf
# flown wolf
# flows wolf
# fresh serf
# gags gag
# gale lag
# gall lag
# galt lag
# gang nag
# garb rag
# gardened rag
# gary rag
# gash sag
# gasp sag
# gate tag
# gawk wag
# geld leg
# gels leg
# gemini meg
# gems meg
# gift fig
# gird rig
# girl rig
# girt rig
# gnash sang
# gnats tang
# gnaws wang
# gobi bog
# gods dog
# goff fog
# greece erg
# greene erg
# greg erg
# gregg erg
# grew erg
# grey erg
# gulps plug
# gums mug
# guru rug
# guts tug
# harass sarah
# harasses sarah
# infix ifni
# keels leek
# keeps peek
# knife fink
# knit ink
# lagers regal
# laminar animal
# laps pal
# lapses pal
# lash sal
# lass sal
# lasses sal
# last sal
# lebanon abel
# leek eel
# leer eel
# leery reel
# lees eel
# legs gel
# leona noel
# leone noel
# levels level
# levers revel
# liar ail
# liars rail
# liens neil
# limes emil
# lind nil
# line nil
# link nil
# lint nil
# lion oil
# lived evil
# liver evil
# lives evil
# loops pool
# loots tool
# lose sol
# loss sol
# losses sol
# lost sol
# lyman amyl
# mace cam
# mach cam
# madam adam
# madame madam
# made dam
# maori roam
# maps pam
# marc ram
# march cram
# marco cram
# marcy cram
# mardi dram
# mare ram
# margo gram
# mark ram
# mars ram
# mart ram
# marx ram
# mary ram
# mash sam
# mask sam
# mass sam
# masses sam
# mast sam
# media idem
# medic idem
# meets teem
# miami maim
# midsts dim
# mike kim
# mira rim
# mire rim
# mirror rim
# mirth trim
# mohr hom
# moods doom
# moody doom
# moore room
# moors room
# moth tom
# mugs gum
# murdered rum
# muse sum
# mush sum
# musk sum
# must sum
# nail ian
# nair ian
# name man
# nanette nan
# naomi moan
# naps pan
# nary ran
# nasa san
# nash san
# nate tan
# nato tan
# navy van
# nazi zan
# neff fen
# nell len
# nets ten
# never even
# newell ewen
# newer ewen
# niagara gain
# nigh gin
# nile lin
# nips pin
# nodded don
# node don
# nods don
# noises ion
# none non
# noons noon
# noose soon
# nora ron
# norm ron
# nose son
# note ton
# novak avon
# nuns nun
# nurses run
# olson oslo
# ooze zoo
# otis ito
# pace cap
# pack cap
# pact cap
# page gap
# pale lap
# pall lap
# palm lap
# palo lap
# pals lap
# palsy slap
# panama nap
# pane nap
# pang nap
# pans nap
# pansy snap
# pant nap
# parc rap
# pare rap
# park rap
# parr rap
# pars rap
# parses rap
# part rap
# partner entrap
# parts trap
# party trap
# paso sap
# pass sap
# passes sap
# past sap
# pate tap
# path tap
# pats tap
# peeks keep
# peeps peep
# pile lip
# pill lip
# pine nip
# ping nip
# pink nip
# pins nip
# pint nip
# pipe pip
# pipette pip
# pisa sip
# piss sip
# pith tip
# pits tip
# pitt tip
# pity tip
# plugs gulp
# pocono cop
# pomp mop
# pooch coop
# poole loop
# pools loop
# pope pop
# pops pop
# porch crop
# pots top
# pupa pup
# pups pup
# purist sirup
# race car
# rack car
# radars radar
# radii dar
# raft far
# rails liar
# rape par
# raps par
# rapt par
# rate tar
# rats tar
# redness ender
# redness sender
# redrawn warder
# reeds deer
# reels leer
# reese seer
# referee refer
# refers refer
# refill lifer
# regal ager
# regina niger
# remarks kramer
# repels leper
# report roper
# retard rater
# retarded rater
# retrace carter
# retract carter
# revel ever
# revels lever
# revile liver
# revolt lover
# reward rawer
# rewarded rawer
# rewards drawer
# rework rower
# rift fir
# risc sir
# rise sir
# risk sir
# rooms moor
# roomy moor
# saga gas
# sage gas
# sags gas
# sahara has
# salad alas
# salish silas
# sameness enemas
# saws was
# scram arcs
# scrap arcs
# semite times
# senile lines
# serial aires
# serif ires
# sewed ewes
# sewer ewes
# sexist sixes
# side dis
# sired eris
# siren eris
# sires eris
# sirup uris
# slaps pals
# sleek eels
# sleep eels
# sleeps peels
# sleepy peels
# sleet eels
# sliver evils
# smart rams
# smirk rims
# smite tims
# smith tims
# snack cans
# snafu fans
# snaps pans
# sniff fins
# snipe pins
# sold los
# soldered los
# sole los
# solo los
# sorer eros
# sores eros
# space caps
# spank naps
# spans naps
# sparc raps
# spare raps
# spark raps
# sparta traps
# spasm saps
# spate taps
# speeds deeps
# speedy deeps
# spill lips
# spilt lips
# spine nips
# spins nips
# spiny nips
# spire rips
# spiro rips
# spite tips
# spits tips
# spitz tips
# spools loops
# spots tops
# sprawl warps
# stabs bats
# stack cats
# stacy cats
# staff fats
# stahl hats
# stamp mats
# stare rats
# stark rats
# starr rats
# stars rats
# start rats
# stave vats
# stems mets
# steps pets
# stews wets
# stiff its
# stiff fits
# still its
# stinks knits
# stir its
# stock cots
# stole lots
# stops pots
# store rots
# stork rots
# storm rots
# story rots
# strap arts
# straps parts
# straw arts
# straws warts
# stray arts
# stride dirts
# stuck cuts
# stung nuts
# stunt nuts
# sturm ruts
# subs bus
# swaps paws
# swept pews
# sword rows
# swore rows
# sworn rows
# taboo bat
# tabs bat
# tack cat
# tact cat
# taft fat
# tahiti hat
# tame mat
# tanaka nat
# tang nat
# tangy gnat
# tank nat
# taos oat
# tape pat
# taps pat
# tara rat
# tart rat
# task sat
# tass sat
# teems meet
# tell let
# tend net
# tended net
# tens net
# tenses net
# tent net
# tess set
# test set
# tided edit
# tides edit
# tile lit
# till lit
# tilt lit
# timed emit
# timer emit
# timers remit
# times emit
# timex emit
# timon omit
# tips pit
# tito tit
# tits tit
# todd dot
# togo got
# toiled eliot
# toiler eliot
# toilet eliot
# told lot
# toll lot
# tone not
# toni not
# tons not
# tools loot
# tops pot
# topsy spot
# tore rot
# torn rot
# tory rot
# trace cart
# track cart
# tract cart
# tracy cart
# trade dart
# traded art
# tramp mart
# trap art
# traps part
# tray art
# truce curt
# truck curt
# tube but
# tubs but
# tuck cut
# tugs gut
# tune nut
# turf rut
# turn rut
# valor olav
# vela lev
# waco caw
# walk law
# wall law
# walt law
# ward raw
# wards draw
# ware raw
# warm raw
# warn raw
# warp raw
# wars raw
# wart raw
# wary raw
# wash saw
# wasp saw
# wedded dew
# weds dew
# wehr hew
# weld lew
# welded lew
# well lew
# welsh slew
# went new
# wept pew
# west sew
# wolf low
# wolfe flow
# wolff low
# wolff flow
# womb mow
# wondered now
# wong now
# wont now
# word row
# worded row
# wore row
# work row
# worm row
# worn row
# wove vow
# yagi gay
# yale lay
# yamaha may
# yank nay
# yard ray
# yarn ray
# yawn way
# york roy
# yost soy
# yuba buy